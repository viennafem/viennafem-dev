\chapter{Installation}

This chapter shows how {\ViennaFEM} can be integrated into a project and how
the examples are built. The necessary steps are outlined for several different
platforms, but we could not check every possible combination of hardware,
operating system, and compiler. If you experience any trouble, please write to
the mailing list at \\
\begin{center}
\texttt{viennafem-support$@$lists.sourceforge.net}
\end{center}


% -----------------------------------------------------------------------------
% -----------------------------------------------------------------------------
\section{Dependencies}
% -----------------------------------------------------------------------------
% -----------------------------------------------------------------------------
\label{dependencies}

\begin{itemize}
 \item A recent C++ compiler (e.g.~{\GCC} version 4.2.x or above and Visual C++
2005 or above are known to work)
 \item {\ViennaCL}~\cite{ViennaCL}, version 1.1.2 or above. To make {\ViennaFEM} self-contained, a copy of the {\ViennaCL} sources is available in the \lstinline|viennacl/| folder.
 \item {\ViennaData}~\cite{ViennaData}, version 1.0.1 or above. To make {\ViennaFEM} self-contained, a copy of the {\ViennaData} sources is available in the \lstinline|viennadata/| folder.
 \item {\ViennaGrid}~\cite{ViennaGrid}, version 1.0.0 or above. To make {\ViennaFEM} self-contained, a copy of the {\ViennaGrid} sources is available in the \lstinline|viennagrid/| folder.
 \item {\ViennaMath}~\cite{ViennaMath}, version 1.0.0 or above. To make {\ViennaFEM} self-contained, a copy of the {\ViennaMath} sources is available in the \lstinline|viennamath/| folder.
 \item A recent version of the {\Boost} libraries \cite{boost} for Boost.uBLAS. Version 1.42 is known to work, but other versions should work as well.
 %\item {[}Optional{]} {\OpenCL}~\cite{khronoscl} for GPU-acceleration in {\ViennaCL}.
 \item {[}Optional{]} {\CMake}~\cite{cmake} as build system for building the examples and the standalone executable.
\end{itemize}


\section{Generic Installation of ViennaFEM} \label{sec:viennafem-installation}
Since {\ViennaFEM} is a header-only library, it is sufficient to copy the
\lstinline|viennafem/|, \lstinline|viennacl/|, \lstinline|viennadata/|, \lstinline|viennagrid/| and \lstinline|viennamath/|
folders either into your project folder or to your global system
include path. On Unix based systems, this is often \lstinline|/usr/include/| or
\lstinline|/usr/local/include/|.

On Windows, the situation strongly depends on your development environment.
Please consult the documentation of your compiler or development environment on how to set the include
path correctly. The include paths in Visual Studio are usually something like
\texttt{C:$\setminus$Program Files$\setminus$Microsoft Visual Studio
9.0$\setminus$VC$\setminus$include}
and can be set in \texttt{Tools -> Options -> Projects and Solutions ->
VC++-\-Directories}.


% -----------------------------------------------------------------------------
% -----------------------------------------------------------------------------
\section{Building the Examples and Tutorials}
% -----------------------------------------------------------------------------
% -----------------------------------------------------------------------------
An overview of available examples and their purpose is given
Tab.~\ref{tab:tutorial-dependencies}.
For building the examples, we suppose that {\CMake} is properly set up
on your system. In the following, instructions on how to build the examples on different platforms are given.

\begin{table}[tb]
\begin{center}
\begin{tabular}{l|p{9.5cm}}
File & Purpose\\
\hline
\texttt{basic\_poisson.cpp}           & Demonstrates the symbolic math operations in the background when solving the Poisson equation \\
\texttt{poisson\_1d.cpp}              & One-dimensional solution of the Poisson equation \\
\texttt{poisson\_2d.cpp}              & Two-dimensional solution of the Poisson equation on a triangular grid\\
\texttt{poisson\_2d\_rect.cpp}        & Two-dimensional solution of the Poisson equation on a rectangular grid\\
\texttt{poisson\_3d.cpp}              & One-dimensional solution of the Poisson equation on a tetrahedral grid\\
\texttt{poisson\_3d\_hex.cpp}         & One-dimensional solution of the Poisson equation on a hexahedral grid\\
\texttt{sshape\_2d.cpp}               & Two-dimensional solution of the Poisson equation on an S-shaped triangular grid\\
\texttt{sshape\_3d.cpp}               & Three-dimensional solution of the Poisson equation on an S-shaped tetrahedral grid\\
\end{tabular}
\caption{Overview of the examples in the \texttt{examples/tutorial/} folder}
\label{tab:tutorial-dependencies}
\end{center}
\end{table}

\subsection{Linux}
To build the examples, open a terminal and change to:

\begin{lstlisting}
 $> cd /your-ViennaFEM-path/build/
\end{lstlisting}
Execute
\begin{lstlisting}
 $> cmake ..
\end{lstlisting}
to obtain a Makefile and type
\begin{lstlisting}
 $> make
\end{lstlisting}
to build the examples. If desired, one can build each example separately instead:
\begin{lstlisting}
 $> make poisson_1d       #builds the 'poisson_1d' tutorial
 $> make sshape_3d        #builds the 'sshape_3d' tutorial
\end{lstlisting}

\TIP{Speed up the building process by using jobs, e.g. \keyword{make -j4}.}

\subsection{Mac OS X}
\label{apple}
The tools mentioned in Section \ref{dependencies} are available on
Macintosh platforms too.
For the {\GCC} compiler the Xcode~\cite{xcode} package has to be installed.
To install {\CMake}, external portation tools such as
Fink~\cite{fink}, DarwinPorts~\cite{darwinports},
or MacPorts~\cite{macports} have to be used.

The build process of {\ViennaFEM} is similar to Linux.

\subsection{Windows}
In the following the procedure is outlined for \texttt{Visual Studio}: Assuming
that an {\OpenCL} SDK and {\CMake} is already installed, Visual Studio solution
and project files can be created using {\CMake}:
\begin{itemize}
\item Open the {\CMake} GUI.
\item Set the {\ViennaFEM} base directory as source directory.
\item Set the \texttt{build/} directory as build directory.
\item Click on 'Configure' and select the appropriate generator
(e.g.~\texttt{Visual Studio 9 2008}).
\item Click on 'Configure' again.
\item Click on 'Generate' in order to let {\CMake} generate the project files for you.
\item The project files can now be found in the {\ViennaFEM} build directory,
where they can be opened and compiled with Visual Studio (provided that the
include and library paths are set correctly, see
Sec.~\ref{sec:viennafem-installation}).
\end{itemize}

























